"0","codes_df <- as.data.frame(tibble::enframe(codes), stringsAsFactors = FALSE)"
"0",""
"0",""
"0","colnames(codes_df) <- c(""diagnostic"", ""label_diag"")"
"0",""
"0",""
"0",""
"0","patient_diag <- full_df %>% "
"0","  select(Patient_id, diagnostic) %>% "
"0","  mutate(diagnostic = as.character(diagnostic)) %>% "
"0","  na.omit() %>% "
"0","  left_join(codes_df, by = ""diagnostic"") %>% "
"0","  mutate(diag_parent = case_when("
"0","    diagnostic %in% filiation[['305']] ~ '305',"
"0","    diagnostic %in% filiation[['304']] ~ '304',"
"0","    TRUE ~ NA_character_"
"0","  )) %>% "
"0","  left_join(codes_df, by = c(""diag_parent"" = ""diagnostic"")) %>% "
"0","  rename(son_label = label_diag.x, ancestor_label = label_diag.y)"
"0",""
"0","patient_diag$ancestor_label<- as.character(trimws(patient_diag$ancestor_label))"
"0","patient_diag$son_label<- as.character(trimws(patient_diag$son_label))"
"0",""
"0","ggplot(patient_diag, aes(x = ancestor_label)) +"
"0","  geom_bar(fill = ""skyblue"") +"
"0","  labs(title = ""RÃ©partition des Epidermolyses Bulleuses et Jonctionnelles"","
"0","       x = ""EBJ vs EBS"","
"0","       y = ""Nombre de patients"")"
